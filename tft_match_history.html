<!doctype html>
<html prefix="og: http://ogp.me/ns#">
	<head>
		<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
		<meta property="og:image" content="https://raw.communitydragon.org/latest/game/assets/ux/tft/stageicons/announce_icon_planning.png">
		<meta property="og:title" content="TFT Cheat Sheet">
		<meta property="og:site_name" content="TFT Cheat Sheet">
		<meta property="og:type" content="website">
		<meta property="og:description" content="TFT Cheat Sheet by Lucube128">
		<meta property="og:url" content="https://lucube.github.io/">
		
		<title>TFT - Match history</title>
		
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
		
		<style>
			* {
				margin: 0;
				padding: 0;
				overflow: auto;
			}
			body {
				background: rgb(29,29,31);
				font-family: Arial;
				color: white;
			}
			div {
				display: block;
			}
			form {
				margin: 12px;
			}
			#blankspace {
				height: 80px;
			}
			#output {
				height: 800px;
				width: 90%;
				margin: 0 0 50px 5%;
				background: rgb(129,129,131);
				border: 1px solid black;
			}
		</style>
	</head>
	
	<body>
		<a href="index.html">< back</a>
		<form action="https://euw1.api.riotgames.com/tft/summoner/v1/summoners/by-name/Tivorak" method="get">
		  <input type="hidden" name="apikey" value="RGAPI-bcdb8510-caa5-4d15-975b-47b01241da60"></input>
		  <input type="submit"></input>
		</form>
		<div>
			<label for="sname">Summoner name: </label>
			<input type="text" id="sname" name="Summoner name"><br>
			<input type="radio" id="EUW1" name="region" value="euw1" checked>
			<label for="EUW1">EUW</label><br><br>
			<button onclick="init()">Submit</button>
		</div>
		
		<div id="blankspace">
		</div>
		
		<div>
			<div id="output">
			  <p id="outputtext"></p>
			</div>
		</div>
		
		<!-- JS -->
		<script>
		    var key = "";
		
		    function init() {
			    if (key == "") {
				    requestKey();
				}
				
			    getSummonerBySummonerName();			
			}
			
			function getSummonerBySummonerName() {
			    $.ajax({
				    url: buildUrl(),
					/*xhrFields: {
					    withCredentials: true,
					},*/
					contentType: "text/plain"
				}).done(function () {
				    console.log("request completed");
				}).fail(function () {
				    console.log("request failed");
				});
			}
			
			function buildUrl() {
			    var region;
				
				// get the region
				if (document.getElementById("EUW1").checked) {
				    region = document.getElementById("EUW1").value;
				}				
				
			    return "https://" + region + ".api.riotgames.com/tft/summoner/v1/summoners/by-name/" + document.getElementById("sname").value + "?api_key=" + key;
			}
			
			function requestKey() {
			    key = prompt("Please enter a Riot Games API Key");
				console.log(key);
			}
		</script>
	</body>
</html>